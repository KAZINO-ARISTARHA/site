<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Казино Аристарха - Реальные игры для дегенератов!</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-color: #000000;
            color: #ffff00;
            margin: 0;
            padding: 0;
            background-image: url('https://www.dropbox.com/scl/fi/c2r79ocnfrdi5aee8szhc/i.jpg?rlkey=6llo4cf3frvu3hw2yi05te127&st=iot97fdx&dl=0');
            background-size: cover;
        }
        
        .header {
            background-color: rgba(0, 0, 0, 0.7);
            padding: 20px;
            text-align: center;
            border-bottom: 5px dotted #00ffff;
        }
        
        .logo {
            max-width: 300px;
            margin-bottom: 10px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .games {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            gap: 20px;
            margin-top: 30px;
        }
        
        .game {
            background-color: rgba(255, 0, 255, 0.7);
            border: 3px dashed #00ff00;
            border-radius: 15px;
            padding: 15px;
            width: 280px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .game:hover {
            transform: scale(1.05);
            background-color: rgba(255, 0, 255, 0.9);
        }
        
        .game img {
            max-width: 100%;
            border-radius: 10px;
            border: 2px solid #ffff00;
        }
        
        .play-btn {
            background-color: #00ffff;
            color: #ff00ff;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 10px;
            font-weight: bold;
        }
        
        .play-btn:hover {
            background-color: #ffff00;
            color: #ff00ff;
        }
        
        .footer {
            background-color: rgba(0, 0, 0, 0.7);
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            border-top: 5px dotted #00ffff;
        }
        
        .meme-text {
            font-size: 24px;
            text-shadow: 3px 3px 0 #000;
            margin: 10px 0;
        }
        
        .audio-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(255, 255, 255, 0.7);
            padding: 10px;
            border-radius: 50%;
        }
        
        /* Стили для игровых окон */
        .game-window {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
        }
        
        .game-content {
            background-color: #ff00ff;
            border: 5px solid #ffff00;
            border-radius: 20px;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            position: relative;
        }
        
        .close-game {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #ffff00;
            color: #ff00ff;
            border: none;
            padding: 5px 10px;
            border-radius: 50%;
            cursor: pointer;
            font-weight: bold;
        }
        
        /* Стили для слотов */
        .slot-machine {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .slot-reel {
            width: 100px;
            height: 150px;
            border: 3px solid #ffff00;
            background-color: #00ffff;
            overflow: hidden;
            position: relative;
        }
        
        .slot-item {
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            font-weight: bold;
        }
        
        /* Стили для костей */
        .dice-game {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .dice-container {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        
        .dice {
            width: 80px;
            height: 80px;
            background-color: white;
            border-radius: 10px;
            display: grid;
            grid-template: repeat(3, 1fr) / repeat(3, 1fr);
            padding: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }
        
        .dot {
            width: 15px;
            height: 15px;
            background-color: black;
            border-radius: 50%;
            align-self: center;
            justify-self: center;
        }
        
        .hidden {
            visibility: hidden;
        }
        
        .balance {
            font-size: 24px;
            margin: 20px 0;
            color: #ff0000;
            text-shadow: 2px 2px 0 #000;
        }
        
        .bet-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 10px 0;
        }
        
        .bet-btn {
            background-color: #ffff00;
            color: #ff00ff;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        
        /* Стили для блекджека */
        .cards-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .card {
            width: 60px;
            height: 90px;
            background-color: white;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: black;
            box-shadow: 0 0 5px rgba(0,0,0,0.3);
        }
        
        .red {
            color: red;
        }
        
        .hand-value {
            font-size: 20px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <!-- Аудио для фона -->
 <audio id="bgMusic" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
        Ваш браузер не поддерживает аудио элемент.
    </audio>
    
    <div class="audio-control" onclick="toggleAudio()">
        <img src="https://i.imgur.com/5Q5j2JN.png" width="40" height="40" alt="Музыка">
    </div>

    <header class="header">
        <img src="https://i.imgur.com/XxXxXxX.png" alt="Мемное Казино" class="logo">
        <h1 class="meme-text">Только для настоящих дегенератов!</h1>
        <div class="balance">Баланс: <span id="userBalance">1000</span> ₣ (фури-коины)</div>
    </header>
    
    <div class="container">
        <h2 class="meme-text">Наши топовые игры:</h2>
        
        <div class="games">
            <!-- Блекджек -->
            <div class="game">
                <img src="https://fastpic.org/view/125/2025/0709/b0804f2ba119d984d7275c5e6515e74d.jpg.html][IMG]https://i125.fastpic.org/thumb/2025/0709/4d/b0804f2ba119d984d7275c5e6515e74d.jpeg" alt="Блекджек с котиками">
                <h3>Блекджек с Котиками</h3>
                <p>21 очко негра! Мяу-мяу, мне тоже в жопу!</p>
                <button class="play-btn" onclick="openGame('blackjack')">Играть</button>
            </div>
            
            <!-- Слоты -->
            <div class="game">
                <img src="https://i.imgur.com/ZzZzZzZ.jpg" alt="Слоты с кринжем">
                <h3>Кринж Слоты</h3>
                <p>3 в ряд - и ты депаешь! Или лох? Кто знает...</p>
                <button class="play-btn" onclick="openGame('slots')">Играть</button>
            </div>
            
            <!-- Кости -->
            <div class="game">
                <img src="https://i.imgur.com/WwWwWwW.jpg" alt="Кости с троллфейсом">
                <h3>Кости Судьбы</h3>
                <p>Бросай кости и узнай, будешь ли ты сегодня есть дошик!</p>
                <button class="play-btn" onclick="openGame('dice')">Играть</button>
            </div>
        </div>
    </div>
    
    <footer class="footer">
        <img src="https://i.imgur.com/XxXxXxX_small.png" alt="Мемное Казино" width="100">
        <p>© 2023 Мемное Казино - Это не азартные игры, это образ жизни!</p>
        <p class="meme-text">Сделано с ❤️ и мемами (и немного jQuery)</p>
    </footer>
    
    <!-- Окно игры Блекджек -->
    <div id="blackjack-game" class="game-window">
        <div class="game-content">
            <button class="close-game" onclick="closeGame()">✕</button>
            <h2>Блекджек с Котиками</h2>
            <p>Наберите 21 очко, но не переборщите!</p>
            
            <h3>Крупье:</h3>
            <div class="cards-container" id="dealer-cards">
                <!-- Карты крупье будут добавлены через JS -->
            </div>
            <div class="hand-value">Очки: <span id="dealer-value">?</span></div>
            
            <h3>Игрок:</h3>
            <div class="cards-container" id="player-cards">
                <!-- Карты игрока будут добавлены через JS -->
            </div>
            <div class="hand-value">Очки: <span id="player-value">0</span></div>
            
            <div class="bet-controls">
                <button class="bet-btn" onclick="changeBlackjackBet(-10)">-10</button>
                <span id="blackjackBet">20</span> ₣
                <button class="bet-btn" onclick="changeBlackjackBet(10)">+10</button>
            </div>
            
            <div id="blackjack-buttons">
                <button class="play-btn" onclick="startBlackjack()">Начать игру</button>
            </div>
            
            <div id="blackjackResult" class="meme-text"></div>
        </div>
    </div>
    
    <!-- Окно игры Слоты -->
    <div id="slots-game" class="game-window">
        <div class="game-content">
            <button class="close-game" onclick="closeGame()">✕</button>
            <h2>Кринж Слоты</h2>
            <p>Собери 3 одинаковых символа для победы!</p>
            
            <div class="slot-machine">
                <div class="slot-reel" id="reel1">
                    <!-- Символы будут добавлены через JS -->
                </div>
                <div class="slot-reel" id="reel2">
                    <!-- Символы будут добавлены через JS -->
                </div>
                <div class="slot-reel" id="reel3">
                    <!-- Символы будут добавлены через JS -->
                </div>
            </div>
            
            <div class="bet-controls">
                <button class="bet-btn" onclick="changeSlotBet(-5)">-5</button>
                <span id="slotBet">10</span> ₣
                <button class="bet-btn" onclick="changeSlotBet(5)">+5</button>
            </div>
            
            <button class="play-btn" id="spin-button" onclick="spinSlots()">Крутить!</button>
            
            <div id="slotsResult" class="meme-text"></div>
        </div>
    </div>
    
    <!-- Окно игры Кости -->
    <div id="dice-game" class="game-window">
        <div class="game-content">
            <button class="close-game" onclick="closeGame()">✕</button>
            <h2>Кости Судьбы</h2>
            <p>Бросай кости и попробуй победить крупье!</p>
            
            <div class="dice-game">
                <div class="dice-container">
                    <div class="dice" id="playerDice1">
                        <!-- Точки будут добавлены через JS -->
                    </div>
                    <div class="dice" id="playerDice2">
                        <!-- Точки будут добавлены через JS -->
                    </div>
                </div>
                <p>Ваши кости</p>
                
                <div class="dice-container">
                    <div class="dice" id="dealerDice1">
                        <!-- Точки будут добавлены через JS -->
                    </div>
                    <div class="dice" id="dealerDice2">
                        <!-- Точки будут добавлены через JS -->
                    </div>
                </div>
                <p>Кости крупье</p>
                
                <div class="bet-controls">
                    <button class="bet-btn" onclick="changeDiceBet(-10)">-10</button>
                    <span id="diceBet">20</span> ₣
                    <button class="bet-btn" onclick="changeDiceBet(10)">+10</button>
                </div>
                
                <button class="play-btn" onclick="rollDice()">Бросай кости!</button>
                
                <div id="diceResult" class="meme-text"></div>
            </div>
        </div>
    </div>
    
    <script>
        // Глобальные переменные
        let balance = 1000;
        let slotBet = 10;
        let diceBet = 20;
        let blackjackBet = 20;
        let isSpinning = false;
        let blackjackGame = null;
        
        // Инициализация при загрузке
        window.addEventListener('load', function() {
            initSlots();
            initDice();
            updateBalance();
        });
        
        // Управление аудио
        function toggleAudio() {
            const audio = document.getElementById('bgMusic');
            if (audio.paused) {
                audio.play();
            } else {
                audio.pause();
            }
        }
        
        // Управление играми
        function openGame(gameId) {
            document.getElementById(gameId + '-game').style.display = 'block';
        }
        
        function closeGame() {
            document.querySelectorAll('.game-window').forEach(el => {
                el.style.display = 'none';
            });
        }
        
        // Обновление баланса
        function updateBalance() {
            document.getElementById('userBalance').textContent = balance;
        }
        
        // Изменение ставки
        function changeSlotBet(amount) {
            slotBet = Math.max(1, Math.min(50, slotBet + amount));
            document.getElementById('slotBet').textContent = slotBet;
        }
        
        function changeDiceBet(amount) {
            diceBet = Math.max(5, Math.min(100, diceBet + amount));
            document.getElementById('diceBet').textContent = diceBet;
        }
        
        function changeBlackjackBet(amount) {
            blackjackBet = Math.max(5, Math.min(100, blackjackBet + amount));
            document.getElementById('blackjackBet').textContent = blackjackBet;
        }
        
        // ========== БЛЕКДЖЕК ==========
        function startBlackjack() {
            if (balance < blackjackBet) return;
            
            balance -= blackjackBet;
            updateBalance();
            
            document.getElementById('blackjackResult').textContent = '';
            
            // Создаем колоду и перемешиваем
            const suits = ['♠', '♥', '♦', '♣'];
            const values = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
            let deck = [];
            
            for (let suit of suits) {
                for (let value of values) {
                    deck.push({suit, value});
                }
            }
            
            // Перемешиваем колоду
            for (let i = deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deck[i], deck[j]] = [deck[j], deck[i]];
            }
            
            blackjackGame = {
                deck: deck,
                dealerCards: [],
                playerCards: [],
                dealerValue: 0,
                playerValue: 0,
                gameOver: false
            };
            
            // Раздаем начальные карты
            blackjackGame.playerCards.push(drawCard());
            blackjackGame.dealerCards.push(drawCard());
            blackjackGame.playerCards.push(drawCard());
            blackjackGame.dealerCards.push(drawCard());
            
            updateBlackjackUI();
            
            // Проверяем блекджек
            calculateHandValue(blackjackGame.playerCards, true);
            calculateHandValue(blackjackGame.dealerCards, false);
            
            if (blackjackGame.playerValue === 21) {
                endBlackjack('blackjack');
                return;
            }
            
            // Показываем кнопки для игрока
            document.getElementById('blackjack-buttons').innerHTML = `
                <button class="play-btn" onclick="hit()">Ещё</button>
                <button class="play-btn" onclick="stand()">Хватит</button>
            `;
        }
        
        function drawCard() {
            return blackjackGame.deck.pop();
        }
        
        function hit() {
            if (blackjackGame.gameOver) return;
            
            blackjackGame.playerCards.push(drawCard());
            calculateHandValue(blackjackGame.playerCards, true);
            updateBlackjackUI();
            
            if (blackjackGame.playerValue > 21) {
                endBlackjack('lose');
            }
        }
        
        function stand() {
            if (blackjackGame.gameOver) return;
            
            // Ход дилера
            calculateHandValue(blackjackGame.dealerCards, false);
            
            while (blackjackGame.dealerValue < 17) {
                blackjackGame.dealerCards.push(drawCard());
                calculateHandValue(blackjackGame.dealerCards, false);
            }
            
            updateBlackjackUI();
            
            // Определяем результат
            if (blackjackGame.dealerValue > 21) {
                endBlackjack('win');
            } else if (blackjackGame.dealerValue > blackjackGame.playerValue) {
                endBlackjack('lose');
            } else if (blackjackGame.dealerValue < blackjackGame.playerValue) {
                endBlackjack('win');
            } else {
                endBlackjack('push');
            }
        }
        
        function calculateHandValue(cards, isPlayer) {
            let value = 0;
            let aces = 0;
            
            for (let card of cards) {
                if (card.value === 'A') {
                    value += 11;
                    aces++;
                } else if (['K', 'Q', 'J'].includes(card.value)) {
                    value += 10;
                } else {
                    value += parseInt(card.value);
                }
            }
            
            // Учитываем тузы как 1, если перебор
            while (value > 21 && aces > 0) {
                value -= 10;
                aces--;
            }
            
            if (isPlayer) {
                blackjackGame.playerValue = value;
                document.getElementById('player-value').textContent = value;
            } else {
                blackjackGame.dealerValue = value;
                document.getElementById('dealer-value').textContent = blackjackGame.gameOver ? value : '?';
            }
            
            return value;
        }
        
        function updateBlackjackUI() {
            const dealerCards = document.getElementById('dealer-cards');
            const playerCards = document.getElementById('player-cards');
            
            dealerCards.innerHTML = '';
            playerCards.innerHTML = '';
            
            // Показываем карты дилера (первая карта скрыта, если игра не окончена)
            blackjackGame.dealerCards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                
                if (index === 0 && !blackjackGame.gameOver) {
                    cardElement.textContent = '🂠';
                } else {
                    cardElement.textContent = card.value + card.suit;
                    if (['♥', '♦'].includes(card.suit)) {
                        cardElement.classList.add('red');
                    }
                }
                
                dealerCards.appendChild(cardElement);
            });
            
            // Показываем карты игрока
            blackjackGame.playerCards.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                cardElement.textContent = card.value + card.suit;
                if (['♥', '♦'].includes(card.suit)) {
                    cardElement.classList.add('red');
                }
                playerCards.appendChild(cardElement);
            });
        }
        
        function endBlackjack(result) {
            blackjackGame.gameOver = true;
            calculateHandValue(blackjackGame.dealerCards, false);
            updateBlackjackUI();
            
            const resultElement = document.getElementById('blackjackResult');
            
            switch (result) {
                case 'blackjack':
                    const winAmount = Math.floor(blackjackBet * 2.5);
                    balance += winAmount + blackjackBet;
                    resultElement.textContent = `БЛЕКДЖЕК! Вы выиграли ${winAmount} ₣!`;
                    break;
                case 'win':
                    const win = blackjackBet * 2;
                    balance += win;
                    resultElement.textContent = `Победа! Вы выиграли ${blackjackBet} ₣!`;
                    break;
                case 'lose':
                    resultElement.textContent = 'Вы проиграли! Попробуйте ещё раз!';
                    break;
                case 'push':
                    balance += blackjackBet;
                    resultElement.textContent = 'Ничья! Ставка возвращена.';
                    break;
            }
            
            updateBalance();
            
            document.getElementById('blackjack-buttons').innerHTML = `
                <button class="play-btn" onclick="startBlackjack()">Играть снова</button>
            `;
        }
        
        // ========== СЛОТЫ ==========
        function initSlots() {
            const symbols = ['😂', '🤡', '💩', '👑', '🍆', '🍕'];
            
            for (let i = 1; i <= 3; i++) {
                const reel = document.getElementById('reel' + i);
                reel.innerHTML = '';
                
                // Добавляем 6 символов в каждый барабан (для эффекта прокрутки)
                for (let j = 0; j < 6; j++) {
                    const symbol = document.createElement('div');
                    symbol.className = 'slot-item';
                    symbol.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                    reel.appendChild(symbol);
                }
            }
        }
        
        function spinSlots() {
            if (isSpinning || balance < slotBet) return;
            
            isSpinning = true;
            balance -= slotBet;
            updateBalance();
            
            const spinButton = document.getElementById('spin-button');
            spinButton.disabled = true;
            
            const resultElement = document.getElementById('slotsResult');
            resultElement.textContent = '';
            
            // Анимация прокрутки
            const reels = [
                document.getElementById('reel1'),
                document.getElementById('reel2'),
                document.getElementById('reel3')
            ];
            
            const spinTimes = [10, 15, 20]; // Количество шагов для каждого барабана
            const results = [];
            let reelsStopped = 0;
            
            reels.forEach((reel, index) => {
                let spins = 0;
                const spinInterval = setInterval(() => {
                    spins++;
                    
                    // Прокрутка
                    const firstChild = reel.firstElementChild;
                    reel.removeChild(firstChild);
                    reel.appendChild(firstChild.cloneNode(true));
                    
                    if (spins >= spinTimes[index]) {
                        clearInterval(spinInterval);
                        
                        // Фиксируем результат (средний символ)
                        const symbols = reel.querySelectorAll('.slot-item');
                        results.push(symbols[1].textContent);
                        reelsStopped++;
                        
                        // Если все барабаны остановились
                        if (reelsStopped === 3) {
                            showSlotsResult(results);
                            isSpinning = false;
                            spinButton.disabled = false;
                        }
                    }
                }, 100);
            });
        }
        
        function showSlotsResult(results) {
            const resultElement = document.getElementById('slotsResult');
            
            // Проверка на выигрышные комбинации
            if (results[0] === results[1] && results[1] === results[2]) {
                let multiplier = 0;
                
                switch (results[0]) {
                    case '👑': multiplier = 10; break;
                    case '🍆': multiplier = 5; break;
                    case '😂': multiplier = 3; break;
                    default: multiplier = 2;
                }
                
                const winAmount = slotBet * multiplier;
                balance += winAmount;
                resultElement.textContent = `ДЖЕКПОТ! ${results[0]} ${results[1]} ${results[2]} - Выигрыш ${winAmount} ₣!`;
            } else if (results[0] === results[1] || results[1] === results[2] || results[0] === results[2]) {
                balance += slotBet;
                resultElement.textContent = `Удача! Маленький выигрыш ${slotBet} ₣!`;
            } else {
                resultElement.textContent = `Повезёт в следующий раз! ${results[0]} ${results[1]} ${results[2]}`;
            }
            
            updateBalance();
        }
        
        // ========== КОСТИ ==========
        function initDice() {
            createDiceFaces();
        }
        
        function createDiceFaces() {
            const diceElements = [
                document.getElementById('playerDice1'),
                document.getElementById('playerDice2'),
                document.getElementById('dealerDice1'),
                document.getElementById('dealerDice2')
            ];
            
            diceElements.forEach(dice => {
                dice.innerHTML = '';
                
                // Создаем 9 возможных позиций для точек
                for (let i = 1; i <= 9; i++) {
                    const dot = document.createElement('div');
                    dot.className = 'dot hidden';
                    dot.id = `${dice.id}-dot${i}`;
                    dice.appendChild(dot);
                }
            });
        }
        
        function showDiceFace(diceElement, value) {
            // Скрываем все точки
            for (let i = 1; i <= 9; i++) {
                document.getElementById(`${diceElement.id}-dot${i}`).classList.add('hidden');
            }
            
            // Показываем нужные точки в зависимости от значения
            switch (value) {
                case 1:
                    showDots(diceElement, [5]);
                    break;
                case 2:
                    showDots(diceElement, [1, 9]);
                    break;
                case 3:
                    showDots(diceElement, [1, 5, 9]);
                    break;
                case 4:
                    showDots(diceElement, [1, 3, 7, 9]);
                    break;
                case 5:
                    showDots(diceElement, [1, 3, 5, 7, 9]);
                    break;
                case 6:
                    showDots(diceElement, [1, 3, 4, 6, 7, 9]);
                    break;
            }
        }
        
        function showDots(diceElement, dots) {
            dots.forEach(dotPos => {
                document.getElementById(`${diceElement.id}-dot${dotPos}`).classList.remove('hidden');
            });
        }
        
        function rollDice() {
            if (isSpinning || balance < diceBet) return;
            
            isSpinning = true;
            balance -= diceBet;
            updateBalance();
            
            const resultElement = document.getElementById('diceResult');
            resultElement.textContent = '';
            
            // Анимация броска
            let rolls = 0;
            const maxRolls = 10;
            const rollInterval = setInterval(() => {
                rolls++;
                
                // Показываем случайные значения
                const random1 = Math.floor(Math.random() * 6) + 1;
                const random2 = Math.floor(Math.random() * 6) + 1;
                const random3 = Math.floor(Math.random() * 6) + 1;
                const random4 = Math.floor(Math.random() * 6) + 1;
                
                showDiceFace(document.getElementById('playerDice1'), random1);
                showDiceFace(document.getElementById('playerDice2'), random2);
                showDiceFace(document.getElementById('dealerDice1'), random3);
                showDiceFace(document.getElementById('dealerDice2'), random4);
                
                if (rolls >= maxRolls) {
                    clearInterval(rollInterval);
                    setTimeout(() => {
                        showDiceResult();
                        isSpinning = false;
                    }, 300);
                }
            }, 100);
        }
        
        function showDiceResult() {
            const resultElement = document.getElementById('diceResult');
            
            // Генерируем финальные значения
            const playerDice1 = Math.floor(Math.random() * 6) + 1;
            const playerDice2 = Math.floor(Math.random() * 6) + 1;
            const dealerDice1 = Math.floor(Math.random() * 6) + 1;
            const dealerDice2 = Math.floor(Math.random() * 6) + 1;
            
            showDiceFace(document.getElementById('playerDice1'), playerDice1);
            showDiceFace(document.getElementById('playerDice2'), playerDice2);
            showDiceFace(document.getElementById('dealerDice1'), dealerDice1);
            showDiceFace(document.getElementById('dealerDice2'), dealerDice2);
            
            const playerSum = playerDice1 + playerDice2;
            const dealerSum = dealerDice1 + dealerDice2;
            
            if (playerSum > dealerSum) {
                const winAmount = diceBet * 2;
                balance += winAmount;
                resultElement.textContent = `Победа! ${playerSum} vs ${dealerSum}. Выигрыш ${winAmount} ₣!`;
            } else if (playerSum === dealerSum) {
                balance += diceBet;
                resultElement.textContent = `Ничья! ${playerSum} vs ${dealerSum}. Возврат ставки.`;
            } else {
                resultElement.textContent = `Проигрыш! ${playerSum} vs ${dealerSum}. Удача в следующий раз!`;
            }
            
            updateBalance();
        }
    </script>
</body>
</html>
