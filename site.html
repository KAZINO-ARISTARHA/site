<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Казино Аристарха - Реальные игры для дегенератов!</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-color: #000000;
            color: #ffff00;
            margin: 0;
            padding: 0;
            background-image: url('https://previews.dropbox.com/p/thumb/ACuNXge1XnoqkK6ORkAI20ylsRlhrwq3VtPYpCMrYv61ORF_pG1HhGvTTdeTXs0dScHVAwLCuxfLXhbWsy6ZbFV9uP7p01Jk_wWaL6eL8VfOrZ8k1gewT0xsZ4nHOh8_K5eXhq3qfT9BzkoSGt-UE8o7RQG7oH1ViDRuHXN1nScXHmsAs4lrq3ETsiF8zB8Hgm089sR4Km5eEBK4Ocw4PI6npdaxOjSrtcGNP-vsHAMsIbTo01GiWkTTKv81iQpNv4YqpSSesq6ntrhdNmFMwKgvnSeEqHAEEnNeL_D8OVWkZbnBhJ1ItXgU1qiyakY1DTMOTvDv7htaQJAWtSJFnjyL/p.jpeg?is_prewarmed=true');
            background-size: cover;
        }
        
        /* Анимация радужного баланса */
        @keyframes rainbow {
            0% { color: #ff0000; }
            14% { color: #ff7f00; }
            28% { color: #ffff00; }
            42% { color: #00ff00; }
            57% { color: #0000ff; }
            71% { color: #4b0082; }
            85% { color: #9400d3; }
            100% { color: #ff0000; }
        }
        
        .rainbow-balance {
            animation: rainbow 3s linear infinite;
        }
        
        .header {
            background-color: rgba(0, 0, 0, 0.7);
            padding: 20px;
            text-align: center;
            border-bottom: 5px dotted #00ffff;
        }
        
        .logo {
            max-width: 300px;
            margin-bottom: 10px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .games {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            gap: 20px;
            margin-top: 30px;
        }
        
        .game {
            background-color: rgba(255, 0, 255, 0.7);
            border: 3px dashed #00ff00;
            border-radius: 15px;
            padding: 15px;
            width: 280px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .game:hover {
            transform: scale(1.05);
            background-color: rgba(255, 0, 255, 0.9);
        }
        
        .game img {
            max-width: 100%;
            border-radius: 10px;
            border: 2px solid #ffff00;
        }
        
        .play-btn {
            background-color: #00ffff;
            color: #ff00ff;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 10px;
            font-weight: bold;
        }
        
        .play-btn:hover {
            background-color: #ffff00;
            color: #ff00ff;
        }
        
        .footer {
            background-color: rgba(0, 0, 0, 0.7);
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            border-top: 5px dotted #00ffff;
        }
        
        .meme-text {
            font-size: 24px;
            text-shadow: 3px 3px 0 #000;
            margin: 10px 0;
        }
        
        .audio-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(255, 255, 255, 0.7);
            padding: 10px;
            border-radius: 50%;
        }
        
        /* Стили для игровых окон */
        .game-window {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
        }
        
        .game-content {
            background-color: #ff00ff;
            border: 5px solid #ffff00;
            border-radius: 20px;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            position: relative;
        }
        
        .close-game {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #ffff00;
            color: #ff00ff;
            border: none;
            padding: 5px 10px;
            border-radius: 50%;
            cursor: pointer;
            font-weight: bold;
        }
        
        /* Стили для слотов */
        .slot-machine {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .slot-reel {
            width: 100px;
            height: 150px;
            border: 3px solid #ffff00;
            background-color: #00ffff;
            overflow: hidden;
            position: relative;
        }
        
        .slot-item {
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            font-weight: bold;
        }
        
        /* Стили для костей */
        .dice-game {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .dice-container {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        
        .dice {
            width: 80px;
            height: 80px;
            background-color: white;
            border-radius: 10px;
            display: grid;
            grid-template: repeat(3, 1fr) / repeat(3, 1fr);
            padding: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }
        
        .dot {
            width: 15px;
            height: 15px;
            background-color: black;
            border-radius: 50%;
            align-self: center;
            justify-self: center;
        }
        
        .hidden {
            visibility: hidden;
        }
        
        .balance {
            font-size: 24px;
            margin: 20px 0;
            color: #ff0000;
            text-shadow: 2px 2px 0 #000;
        }
        
        .bet-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 10px 0;
        }
        
        .bet-btn {
            background-color: #ffff00;
            color: #ff00ff;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        
        /* Стили для блекджека */
        .cards-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .card {
            width: 60px;
            height: 90px;
            background-color: white;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: black;
            box-shadow: 0 0 5px rgba(0,0,0,0.3);
        }
        
        .red {
            color: red;
        }
        
        .hand-value {
            font-size: 20px;
            margin-top: 10px;
        }
        
        /* Стиль для заблокированных кнопок ставок */
        .bet-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <!-- Аудио элементы (ЗАМЕНИТЕ ССЫЛКИ НА СВОИ ФАЙЛЫ) -->
    <!-- Фоновая музыка -->
    <audio id="bgMusic" loop>
        <source src="sounds/background.mp3" type="audio/mpeg">
    </audio>
    
    <!-- Звуки для кнопок -->
    <audio id="buttonSound" src="sounds/707db471-c834-494e-a3d9-ada985203ef6.mp3"></audio>
    <audio id="spinSound" src="sounds/mixkit-payout-award-1934.wav"></audio>
    <audio id="diceSound" src="sounds/6f488185486f9cf.mp3"></audio>
    <audio id="cardSound" src="sounds/mixkit-thin-metal-card-deck-shuffle-3175.wav"></audio>
    <audio id="winSound" src="sounds/mixkit-coin-win-notification-1992.wav"></audio>
    <audio id="loseSound" src="sounds/e5303e72e0622f3.mp3"></audio>
    
    <div class="audio-control" onclick="playButtonSound(); toggleAudio()">
        <img src="https://previews.dropbox.com/p/thumb/ACv2S0R3_hy7XqIwFu-EQS8mUiJssya-FGe55Sq2wY6H8ee7YZgG78fAS8Vp_EXFy-k2y95xdyCg25SFGx_t-3zFY_-nva_mb0Gy6PqhOntAbFYFJ6e3cr57bDiu83zdmSWY1GLStaoL1lt6_kcWDbJseY8OvnG50gwa0QakECOR4hnbdN4nmGSbUxqmtgmpU_oCHgI4poZvCuSpH_N9V31km9hIRlg1B1c_Ecq1dbXuryPi_yQIy6eNMZtbFW4dZCgYAX5GpsjLURKJHjZA8lbxF0LtfTViKXWYW_FeITIrKQqXoEGPseAAcPVB9hJlChyYmyky0gluCIrZyEGsOkDZ/p.jpeg?is_prewarmed=true" width="40" height="40" alt="Музыка">
    </div>

    <header class="header">
        <img src="https://previews.dropbox.com/p/thumb/ACsaGW8tWF82aGkyLHt9Jem8JjvU5OQ5L2dpnISjMv6rw66nrjYO9lFyYkH9mn4rRpG8J4W-hvZiqz1qP6fv0wGDklAyPiO5R6NocUONLYfbrlUz50yZIoW0HJFHsSo6DHeYiYJjougrTKiJ4KshCpdCWUL5_6yXOxq5DqzteSeFQFqxqoMYqBXixFbwUTWto9E_Y8Jnvz74d_b2caY3CDrcw68AEJjKvLm73lC77v1ws18OrvuYn6LT-AOksYwRJgesfCaQAgT4hvX3-l5o_6DfcPVPco-kKBmRje25NvlYQgXTopahRmatvcUKX5jrqB8gm5Zhd_eJoVWJaRAd6H7l/p.jpeg?is_prewarmed=true" alt="Мемное Казино" class="logo">
        <h1 class="meme-text">Только для настоящих дегенератов!</h1>
        <div class="balance">Баланс: <span id="userBalance" class="rainbow-balance">1000</span> ₣ (фури-коины)</div>
    </header>
    
    <div class="container">
        <h2 class="meme-text">Наши топовые игры:</h2>
        
        <div class="games">
            <!-- Блекджек -->
            <div class="game">
                <img src="https://previews.dropbox.com/p/thumb/ACvPZl-NR01M-et0Ww8-BgPu6ctyrP6xu0Comr3OnOYkTS-42EUFQTVJ7i8k1sajyZBjORJNs83nXy8mYJNZ3HmdEnxWq3Aqf7s6_ht0e-LRkaOeOnislCLi2zGz1s_768K8D-HMsVDNFkIgyDziRjTnu4n5oGgironqKX_cljydqFFFWjD4LCzVZyLYGpU--zpaItwKgE_YzvplHT0ApjEg_pKr-39HQc8zpyAsyDSpOOsONY-BMwHty_c3zF-wpbnPHGyXfM058oNM5bzvALh9FaJvj3tkZ4UTQtZ9dNAOTmOLaAjUs5wgz6ckH1poMWW9Z4cXKr_siExwdcF9icaQ/p.jpeg?is_prewarmed=true" alt="Блекджек с котиками">
                <h3>Блекджек с Котиками</h3>
                <p>21 очко негра! Мяу-мяу, мне тоже в жопу!</p>
                <button class="play-btn" onclick="playButtonSound(); openGame('blackjack')">Играть</button>
            </div>
            
            <!-- Слоты -->
            <div class="game">
                <img src="https://previews.dropbox.com/p/thumb/ACs7GceZhlnzTKhIPPfsyCZ_WQP7t7R71QBYgTPocETNkoFK_8IcpkuhFdpa_cf4YNiAwc_YFCd5j7ndu4cQ1huRZhHIGHMDPm5ob0n1kYPu4Fh5bs5RNEoGQojSEvloY-POFiiYmGrJJDaptBgGdBs1woEvp1QFxx10Fd4DiJGIaFJaDehMKcZLFBEpP7lTEv-ZV8y6LIRsC9L0FA7tjuYxdipFjpfY9e02GXLhZkwotJjtaIs1_Kuyc_JHpVAnaCqXl9lJjc98o0p7DdLmWOThe6Ye6tdL1sPzW5GtZWvj_H-Lpd2tFYhW2Ms_1qk-HuYj6pZf8DHlSs_hEbg2KvUd/p.jpeg?is_prewarmed=true" alt="Слоты с кринжем">
                <h3>Кринж Слоты</h3>
                <p>3 в ряд - и ты депаешь! Или лох? Кто знает...</p>
                <button class="play-btn" onclick="playButtonSound(); openGame('slots')">Играть</button>
            </div>
            
            <!-- Кости -->
            <div class="game">
                <img src="https://previews.dropbox.com/p/thumb/ACvRuEKNeg0xa4gkZQKvU5EuCR9aRXZ3QdOLKWx_3Jo84dJcWwQEC8EhkT5u5RBOO_HEz3zPRiOy2GwizQfImXB9MgmXBXgPTao8nYP4oE040y5LjsIasIvOGd04ny9xndvKcJzP1EnFbOwWT-L5j6RA9Mbmr58UAzd3hgw-lRyU-Q5ejV3jGoxp9UNJwB6eixNMVab5aIt7HPnK-Bu2aaTIcfMFPNfcf1NEPH5wG1qbpKpWR3fEMoVGw2A95bzSgHt3ak0FihWUyNN8WdueA0aakqBAiNYMVHZVJG5mGyVU0rWNvKGeuUNQ1Yev5WhUtyH9U6r19TAsH0L-joHbTCqg/p.jpeg?is_prewarmed=true" alt="Кости с троллфейсом">
                <h3>Кости Судьбы</h3>
                <p>Бросай кости и узнай, будешь ли ты сегодня есть дошик!</p>
                <button class="play-btn" onclick="playButtonSound(); openGame('dice')">Играть</button>
            </div>
        </div>
    </div>
    
    <footer class="footer">
        <img src="https://previews.dropbox.com/p/thumb/ACt9Q0vYs4lff6HjOHcLU2XEcOyb44zVAvp676MkGMUYpDxRKr04xhsIw4l0ap8dcpN3SSDOrKLOPTTI5sGoo9aUnG-HWGbRCTB2YeiyDnT4lGXZIl14Hh3uExIwT2WOk8M4lmOVdQ8gwMzdQdNEyQWev09KwlEQgtJCgjhLJMUWdapFyNr1cAlwv_hpFP_hNkIsH_QQ-W1F0B0vK8-7Tm_ScA5jKfHgX8SRWZizDZFz63sx6YL7PARaDTcLVJy-vbxI5G5meaf7TjehSyX3_yvnzvaAyrRj-MM4XErdcmS6_reXCgoWLGgmCpVPEt-KE_x_SpktR0q0gmNhFQLWdrW1/p.png?is_prewarmed=true" alt="Депай тварь!" width="100">
        <p>© 2025 Казино Аристарха - Это не азартные игры, это образ жизни!</p>
        <p class="meme-text">Сделано с ❤️ и мемами</p>
    </footer>
    
    <!-- Окно игры Блекджек -->
    <div id="blackjack-game" class="game-window">
        <div class="game-content">
            <button class="close-game" onclick="playButtonSound(); closeGame()">✕</button>
            <h2>Блекджек с Котиками</h2>
            <p>Наберите 21 очко, но не переборщите!</p>
            
            <h3>Крупье:</h3>
            <div class="cards-container" id="dealer-cards">
                <!-- Карты крупье будут добавлены через JS -->
            </div>
            <div class="hand-value">Очки: <span id="dealer-value">?</span></div>
            
            <h3>Игрок:</h3>
            <div class="cards-container" id="player-cards">
                <!-- Карты игрока будут добавлены через JS -->
            </div>
            <div class="hand-value">Очки: <span id="player-value">0</span></div>
            
            <div class="bet-controls">
                <button class="bet-btn" id="blackjack-minus" onclick="playButtonSound(); changeBlackjackBet(-10)">-10</button>
                <span id="blackjackBet">20</span> ₣
                <button class="bet-btn" id="blackjack-plus" onclick="playButtonSound(); changeBlackjackBet(10)">+10</button>
            </div>
            
            <div id="blackjack-buttons">
                <button class="play-btn" onclick="playButtonSound(); startBlackjack()">Начать игру</button>
            </div>
            
            <div id="blackjackResult" class="meme-text"></div>
        </div>
    </div>
    
    <!-- Окно игры Слоты -->
    <div id="slots-game" class="game-window">
        <div class="game-content">
            <button class="close-game" onclick="playButtonSound(); closeGame()">✕</button>
            <h2>Кринж Слоты</h2>
            <p>Собери 3 одинаковых символа для победы!</p>
            
            <div class="slot-machine">
                <div class="slot-reel" id="reel1">
                    <!-- Символы будут добавлены через JS -->
                </div>
                <div class="slot-reel" id="reel2">
                    <!-- Символы будут добавлены через JS -->
                </div>
                <div class="slot-reel" id="reel3">
                    <!-- Символы будут добавлены через JS -->
                </div>
            </div>
            
            <div class="bet-controls">
                <button class="bet-btn" id="slots-minus" onclick="playButtonSound(); changeSlotBet(-5)">-5</button>
                <span id="slotBet">10</span> ₣
                <button class="bet-btn" id="slots-plus" onclick="playButtonSound(); changeSlotBet(5)">+5</button>
            </div>
            
            <button class="play-btn" id="spin-button" onclick="playSpinSound(); spinSlots()">Крутить!</button>
            
            <div id="slotsResult" class="meme-text"></div>
        </div>
    </div>
    
    <!-- Окно игры Кости -->
    <div id="dice-game" class="game-window">
        <div class="game-content">
            <button class="close-game" onclick="playButtonSound(); closeGame()">✕</button>
            <h2>Кости Судьбы</h2>
            <p>Бросай кости и попробуй победить крупье!</p>
            
            <div class="dice-game">
                <div class="dice-container">
                    <div class="dice" id="playerDice1">
                        <!-- Точки будут добавлены через JS -->
                    </div>
                    <div class="dice" id="playerDice2">
                        <!-- Точки будут добавлены через JS -->
                    </div>
                </div>
                <p>Ваши кости</p>
                
                <div class="dice-container">
                    <div class="dice" id="dealerDice1">
                        <!-- Точки будут добавлены через JS -->
                    </div>
                    <div class="dice" id="dealerDice2">
                        <!-- Точки будут добавлены через JS -->
                    </div>
                </div>
                <p>Кости крупье</p>
                
                <div class="bet-controls">
                    <button class="bet-btn" id="dice-minus" onclick="playButtonSound(); changeDiceBet(-10)">-10</button>
                    <span id="diceBet">20</span> ₣
                    <button class="bet-btn" id="dice-plus" onclick="playButtonSound(); changeDiceBet(10)">+10</button>
                </div>
                
                <button class="play-btn" onclick="playDiceSound(); rollDice()">Бросай кости!</button>
                
                <div id="diceResult" class="meme-text"></div>
            </div>
        </div>
    </div>
    
    <script>
        // Глобальные переменные
        let balance = 1000;
        let slotBet = 10;
        let diceBet = 20;
        let blackjackBet = 20;
        let isSpinning = false;
        let blackjackGame = null;
        
        // Инициализация при загрузке
        window.addEventListener('load', function() {
            initSlots();
            initDice();
            updateBalance();
        });
        
        // Управление аудио
        function toggleAudio() {
            const audio = document.getElementById('bgMusic');
            if (audio.paused) {
                audio.play();
            } else {
                audio.pause();
            }
        }
        
        // Функции для воспроизведения звуков
        function playButtonSound() {
            const sound = document.getElementById('buttonSound');
            sound.currentTime = 0;
            sound.play();
        }
        
        function playSpinSound() {
            const sound = document.getElementById('spinSound');
            sound.currentTime = 0;
            sound.play();
        }
        
        function playDiceSound() {
            const sound = document.getElementById('diceSound');
            sound.currentTime = 0;
            sound.play();
        }
        
        function playCardSound() {
            const sound = document.getElementById('cardSound');
            sound.currentTime = 0;
            sound.play();
        }
        
        function playWinSound() {
            const sound = document.getElementById('winSound');
            sound.currentTime = 0;
            sound.play();
        }
        
        function playLoseSound() {
            const sound = document.getElementById('loseSound');
            sound.currentTime = 0;
            sound.play();
        }
        
        // Управление играми
        function openGame(gameId) {
            document.getElementById(gameId + '-game').style.display = 'block';
        }
        
        function closeGame() {
            document.querySelectorAll('.game-window').forEach(el => {
                el.style.display = 'none';
            });
        }
        
        // Обновление баланса
        function updateBalance() {
            document.getElementById('userBalance').textContent = balance;
        }
        
// Блокировка кнопок ставок во время игры
function toggleBetButtons(disabled) {
    document.getElementById('blackjack-minus').disabled = disabled;
    document.getElementById('blackjack-plus').disabled = disabled;
}

// ========== ИГРА В СЛОТЫ ==========
function initSlots() {
    const symbols = ['🍒', '🍋', '🍊', '🍇', '7'];
    const reels = [document.getElementById('reel1'), 
                  document.getElementById('reel2'), 
                  document.getElementById('reel3')];
    
    reels.forEach(reel => {
        reel.innerHTML = `<div class="slot-item">${symbols[0]}</div>`;
    });
}

function spinSlots() {
    if (isSpinning || balance < slotBet) return;
    isSpinning = true;
    
    const symbols = ['🍒', '🍋', '🍊', '🍇', '7'];
    const reels = [document.getElementById('reel1'), 
                  document.getElementById('reel2'), 
                  document.getElementById('reel3')];
    
    // Анимация вращения
    reels.forEach((reel, index) => {
        let spinCount = 0;
        const spinInterval = setInterval(() => {
            const randomSymbol = symbols[Math.floor(Math.random() * symbols.length)];
            reel.innerHTML = `<div class="slot-item">${randomSymbol}</div>`;
            spinCount++;
            
            if (spinCount > 10 + index * 5) {
                clearInterval(spinInterval);
                if (index === reels.length - 1) {
                    isSpinning = false;
                    checkSlotResult();
                }
            }
        }, 100);
    });
    
    balance -= slotBet;
    updateBalance();
}

function checkSlotResult() {
    const reels = [document.getElementById('reel1'), 
                  document.getElementById('reel2'), 
                  document.getElementById('reel3')];
    
    const values = reels.map(reel => reel.textContent.trim());
    const resultElement = document.getElementById('slotsResult');
    
    if (values[0] === values[1] && values[1] === values[2]) {
        const winAmount = values[0] === '7' ? slotBet * 10 : slotBet * 5;
        balance += winAmount;
        resultElement.textContent = `ДЖЕКПОТ! +${winAmount}₣`;
        resultElement.style.color = '#00ff00';
        playWinSound();
    } else if (values[0] === values[1] || values[1] === values[2] || values[0] === values[2]) {
        balance += slotBet;
        resultElement.textContent = `Выигрыш! +${slotBet}₣`;
        resultElement.style.color = '#00ff00';
        playWinSound();
    } else {
        resultElement.textContent = `Проигрыш! -${slotBet}₣`;
        resultElement.style.color = '#ff0000';
        playLoseSound();
    }
    
    updateBalance();
}

function changeSlotBet(amount) {
    slotBet = Math.max(5, Math.min(100, slotBet + amount));
    document.getElementById('slotBet').textContent = slotBet;
}

// ========== ИГРА В КОСТИ ==========
function initDice() {
    updateDiceUI(document.getElementById('playerDice1'), 1);
    updateDiceUI(document.getElementById('playerDice2'), 1);
    updateDiceUI(document.getElementById('dealerDice1'), 1);
    updateDiceUI(document.getElementById('dealerDice2'), 1);
}

function updateDiceUI(diceElement, value) {
    diceElement.innerHTML = '';
    const dots = [
        [0, 0, 0],
        [0, 1, 0],
        [0, 0, 0]
    ];
    
    switch(value) {
        case 1:
            dots[1][1] = 1;
            break;
        case 2:
            dots[0][0] = 1;
            dots[2][2] = 1;
            break;
        case 3:
            dots[0][0] = 1;
            dots[1][1] = 1;
            dots[2][2] = 1;
            break;
        case 4:
            dots[0][0] = 1;
            dots[0][2] = 1;
            dots[2][0] = 1;
            dots[2][2] = 1;
            break;
        case 5:
            dots[0][0] = 1;
            dots[0][2] = 1;
            dots[1][1] = 1;
            dots[2][0] = 1;
            dots[2][2] = 1;
            break;
        case 6:
            dots[0][0] = 1;
            dots[0][2] = 1;
            dots[1][0] = 1;
            dots[1][2] = 1;
            dots[2][0] = 1;
            dots[2][2] = 1;
            break;
    }
    
    for (let i = 0; i < 3; i++) {
        for (let j = 0; j < 3; j++) {
            if (dots[i][j] === 1) {
                const dot = document.createElement('div');
                dot.className = 'dot';
                diceElement.appendChild(dot);
            }
        }
    }
}

function rollDice() {
    if (balance < diceBet) {
        document.getElementById('diceResult').textContent = "Недостаточно средств!";
        return;
    }
    
    const playerDice1 = Math.floor(Math.random() * 6) + 1;
    const playerDice2 = Math.floor(Math.random() * 6) + 1;
    const dealerDice1 = Math.floor(Math.random() * 6) + 1;
    const dealerDice2 = Math.floor(Math.random() * 6) + 1;
    
    updateDiceUI(document.getElementById('playerDice1'), playerDice1);
    updateDiceUI(document.getElementById('playerDice2'), playerDice2);
    updateDiceUI(document.getElementById('dealerDice1'), dealerDice1);
    updateDiceUI(document.getElementById('dealerDice2'), dealerDice2);
    
    const playerSum = playerDice1 + playerDice2;
    const dealerSum = dealerDice1 + dealerDice2;
    const resultElement = document.getElementById('diceResult');
    
    if (playerSum > dealerSum) {
        balance += diceBet;
        resultElement.textContent = `Победа! +${diceBet}₣ (${playerSum} vs ${dealerSum})`;
        resultElement.style.color = '#00ff00';
        playWinSound();
    } else if (playerSum < dealerSum) {
        balance -= diceBet;
        resultElement.textContent = `Проигрыш! -${diceBet}₣ (${playerSum} vs ${dealerSum})`;
        resultElement.style.color = '#ff0000';
        playLoseSound();
    } else {
        resultElement.textContent = `Ничья! (${playerSum} vs ${dealerSum})`;
        resultElement.style.color = '#ffff00';
    }
    
    updateBalance();
}

function changeDiceBet(amount) {
    diceBet = Math.max(10, Math.min(200, diceBet + amount));
    document.getElementById('diceBet').textContent = diceBet;
}

// ========== ИГРА В БЛЕКДЖЕК ==========
function startBlackjack() {
    if (balance < blackjackBet) {
        document.getElementById('blackjackResult').textContent = "Недостаточно средств!";
        return;
    }
    
    blackjackGame = {
        deck: createDeck(),
        dealerCards: [],
        playerCards: [],
        dealerScore: 0,
        playerScore: 0,
        gameOver: false
    };
    
    // Раздача первых карт
    dealCard(blackjackGame.playerCards);
    dealCard(blackjackGame.dealerCards);
    dealCard(blackjackGame.playerCards);
    dealCard(blackjackGame.dealerCards);
    
    updateBlackjackUI();
    
    document.getElementById('blackjack-buttons').innerHTML = `
        <button class="play-btn" onclick="playButtonSound(); hit()">Ещё</button>
        <button class="play-btn" onclick="playButtonSound(); stand()">Хватит</button>
    `;
    
    toggleBetButtons(true);
}

function createDeck() {
    const suits = ['♥', '♦', '♣', '♠'];
    const values = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
    const deck = [];
    
    for (let suit of suits) {
        for (let value of values) {
            deck.push({ suit, value });
        }
    }
    
    // Перемешиваем колоду
    for (let i = deck.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [deck[i], deck[j]] = [deck[j], deck[i]];
    }
    
    return deck;
}

function dealCard(hand) {
    if (blackjackGame.deck.length === 0) {
        blackjackGame.deck = createDeck();
    }
    
    const card = blackjackGame.deck.pop();
    hand.push(card);
    playCardSound();
    return card;
}

function calculateScore(hand) {
    let score = 0;
    let aces = 0;
    
    for (let card of hand) {
        if (['J', 'Q', 'K'].includes(card.value)) {
            score += 10;
        } else if (card.value === 'A') {
            score += 11;
            aces++;
        } else {
            score += parseInt(card.value);
        }
    }
    
    while (score > 21 && aces > 0) {
        score -= 10;
        aces--;
    }
    
    return score;
}

function updateBlackjackUI() {
    const dealerCardsElement = document.getElementById('dealer-cards');
    const playerCardsElement = document.getElementById('player-cards');
    const dealerValueElement = document.getElementById('dealer-value');
    const playerValueElement = document.getElementById('player-value');
    
    // Обновляем карты игрока
    playerCardsElement.innerHTML = '';
    blackjackGame.playerCards.forEach(card => {
        const cardElement = document.createElement('div');
        cardElement.className = `card ${['♥', '♦'].includes(card.suit) ? 'red' : ''}`;
        cardElement.textContent = `${card.value}${card.suit}`;
        playerCardsElement.appendChild(cardElement);
    });
    
    blackjackGame.playerScore = calculateScore(blackjackGame.playerCards);
    playerValueElement.textContent = blackjackGame.playerScore;
    
    // Обновляем карты дилера
    dealerCardsElement.innerHTML = '';
    if (blackjackGame.gameOver) {
        blackjackGame.dealerCards.forEach(card => {
            const cardElement = document.createElement('div');
            cardElement.className = `card ${['♥', '♦'].includes(card.suit) ? 'red' : ''}`;
            cardElement.textContent = `${card.value}${card.suit}`;
            dealerCardsElement.appendChild(cardElement);
        });
        
        blackjackGame.dealerScore = calculateScore(blackjackGame.dealerCards);
        dealerValueElement.textContent = blackjackGame.dealerScore;
    } else {
        // Первая карта дилера скрыта
        const cardElement = document.createElement('div');
        cardElement.className = 'card';
        cardElement.textContent = '?';
        dealerCardsElement.appendChild(cardElement);
        
        // Остальные карты дилера
        for (let i = 1; i < blackjackGame.dealerCards.length; i++) {
            const card = blackjackGame.dealerCards[i];
            const cardElement = document.createElement('div');
            cardElement.className = `card ${['♥', '♦'].includes(card.suit) ? 'red' : ''}`;
            cardElement.textContent = `${card.value}${card.suit}`;
            dealerCardsElement.appendChild(cardElement);
        }
        
        dealerValueElement.textContent = '?';
    }
}

function hit() {
    if (blackjackGame.gameOver) return;
    
    dealCard(blackjackGame.playerCards);
    blackjackGame.playerScore = calculateScore(blackjackGame.playerCards);
    
    updateBlackjackUI();
    
    if (blackjackGame.playerScore > 21) {
        endBlackjack("Перебор! Вы проиграли!");
        playLoseSound();
    }
}

function stand() {
    if (blackjackGame.gameOver) return;
    
    blackjackGame.gameOver = true;
    
    // Дилер добирает карты до 17
    while (calculateScore(blackjackGame.dealerCards) < 17) {
        dealCard(blackjackGame.dealerCards);
    }
    
    blackjackGame.dealerScore = calculateScore(blackjackGame.dealerCards);
    updateBlackjackUI();
    
    if (blackjackGame.dealerScore > 21) {
        balance += blackjackBet;
        endBlackjack("Дилер перебрал! Вы выиграли!");
        playWinSound();
    } else if (blackjackGame.dealerScore > blackjackGame.playerScore) {
        balance -= blackjackBet;
        endBlackjack(`Дилер победил ${blackjackGame.dealerScore} vs ${blackjackGame.playerScore}`);
        playLoseSound();
    } else if (blackjackGame.dealerScore < blackjackGame.playerScore) {
        balance += blackjackBet;
        endBlackjack(`Вы победили ${blackjackGame.playerScore} vs ${blackjackGame.dealerScore}!`);
        playWinSound();
    } else {
        endBlackjack("Ничья!");
    }
    
    updateBalance();
}

function endBlackjack(message) {
    blackjackGame.gameOver = true;
    document.getElementById('blackjackResult').textContent = message;
    document.getElementById('blackjack-buttons').innerHTML = `
        <button class="play-btn" onclick="playButtonSound(); startBlackjack()">Играть снова</button>
    `;
    toggleBetButtons(false);
}

function changeBlackjackBet(amount) {
    blackjackBet = Math.max(10, Math.min(200, blackjackBet + amount));
    document.getElementById('blackjackBet').textContent = blackjackBet;
}
        
        function changeBlackjackBet(amount) {
            if (blackjackGame && !blackjackGame.gameOver) return;
            blackjackBet = Math.max(5, Math.min(100, blackjackBet + amount));
            document.getElementById('blackjackBet').textContent = blackjackBet;
        }
        
        // ========== БЛЕКДЖЕК ==========
        function startBlackjack() {
            if (balance < blackjackBet) return;
            
            balance -= blackjackBet;
            updateBalance();
            toggleBetButtons(true);
            
            document.getElementById('blackjackResult').textContent = '';
            
            // Создаем колоду и перемешиваем
            const suits = ['♠', '♥', '♦', '♣'];
            const values = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
            let deck = [];
            
            for (let suit of suits) {
                for (let value of values) {
                    deck.push({suit, value});
                }
            }
            
            // Перемешиваем колоду
            for (let i = deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deck[i], deck[j]] = [deck[j], deck[i]];
            }
            
            blackjackGame = {
                deck: deck,
                dealerCards: [],
                playerCards: [],
                dealerValue: 0,
                playerValue: 0,
                gameOver: false
            };
            
            // Раздаем начальные карты
            blackjackGame.playerCards.push(drawCard());
            playCardSound();
            blackjackGame.dealerCards.push(drawCard());
            playCardSound();
            blackjackGame.playerCards.push(drawCard());
            playCardSound();
            blackjackGame.dealerCards.push(drawCard());
            playCardSound();
            
            updateBlackjackUI();
            
            // Проверяем блекджек
            calculateHandValue(blackjackGame.playerCards, true);
            calculateHandValue(blackjackGame.dealerCards, false);
            
            if (blackjackGame.playerValue === 21) {
                endBlackjack('blackjack');
                return;
            }
            
            // Показываем кнопки для игрока
            document.getElementById('blackjack-buttons').innerHTML = `
                <button class="play-btn" onclick="playButtonSound(); hit()">Ещё</button>
                <button class="play-btn" onclick="playButtonSound(); stand()">Хватит</button>
            `;
        }
        
        function drawCard() {
            return blackjackGame.deck.pop();
        }
        
        function hit() {
            if (blackjackGame.gameOver) return;
            
            blackjackGame.playerCards.push(drawCard());
            playCardSound();
            calculateHandValue(blackjackGame.playerCards, true);
            updateBlackjackUI();
            
            if (blackjackGame.playerValue > 21) {
                endBlackjack('lose');
            }
        }
        
        function stand() {
            if (blackjackGame.gameOver) return;
            
            // Ход дилера
            calculateHandValue(blackjackGame.dealerCards, false);
            
            while (blackjackGame.dealerValue < 17) {
                blackjackGame.dealerCards.push(drawCard());
                playCardSound();
                calculateHandValue(blackjackGame.dealerCards, false);
            }
            
            updateBlackjackUI();
            
            // Определяем результат
            if (blackjackGame.dealerValue > 21) {
                endBlackjack('win');
            } else if (blackjackGame.dealerValue > blackjackGame.playerValue) {
                endBlackjack('lose');
            } else if (blackjackGame.dealerValue < blackjackGame.playerValue) {
                endBlackjack('win');
            } else {
                endBlackjack('push');
            }
        }
        
        function calculateHandValue(cards, isPlayer) {
            let value = 0;
            let aces = 0;
            
            for (let card of cards) {
                if (card.value === 'A') {
                    value += 11;
                    aces++;
                } else if (['K', 'Q', 'J'].includes(card.value)) {
                    value += 10;
                } else {
                    value += parseInt(card.value);
                }
            }
            
            // Учитываем тузы как 1, если перебор
            while (value > 21 && aces > 0) {
                value -= 10;
                aces--;
            }
            
            if (isPlayer) {
                blackjackGame.playerValue = value;
                document.getElementById('player-value').textContent = value;
            } else {
                blackjackGame.dealerValue = value;
                document.getElementById('dealer-value').textContent = blackjackGame.gameOver ? value : '?';
            }
            
            return value;
        }
        
        function updateBlackjackUI() {
            const dealerCards = document.getElementById('dealer-cards');
            const playerCards = document.getElementById('player-cards');
            
            dealerCards.innerHTML = '';
            playerCards.innerHTML = '';
            
            // Показываем карты дилера (первая карта скрыта, если игра не окончена)
            blackjackGame.dealerCards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                
                if (index === 0 && !blackjackGame.gameOver) {
                    cardElement.textContent = '🂠';
                } else {
                    cardElement.textContent = card.value + card.suit;
                    if (['♥', '♦'].includes(card.suit)) {
                        cardElement.classList.add('red');
                    }
                }
                
                dealerCards.appendChild(cardElement);
            });
            
            // Показываем карты игрока
            blackjackGame.playerCards.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                cardElement.textContent = card.value + card.suit;
                if (['♥', '♦'].includes(card.suit)) {
                    cardElement.classList.add('red');
                }
                playerCards.appendChild(cardElement);
            });
        }
        
        function endBlackjack(result) {
            blackjackGame.gameOver = true;
            toggleBetButtons(false);
            calculateHandValue(blackjackGame.dealerCards, false);
            updateBlackjackUI();
            
            const resultElement = document.getElementById('blackjackResult');
            
            switch (result) {
                case 'blackjack':
                    const winAmount = Math.floor(blackjackBet * 2.5);
                    balance += winAmount + blackjackBet;
                    resultElement.textContent = `БЛЕКДЖЕК! Вы выиграли ${winAmount} ₣!`;
                    playWinSound();
                    break;
                case 'win':
                    const win = blackjackBet * 2;
                    balance += win;
                    resultElement.textContent = `Победа! Вы выиграли ${blackjackBet} ₣!`;
                    playWinSound();
                    break;
                case 'lose':
                    resultElement.textContent = 'Вы проиграли! Попробуйте ещё раз!';
                    playLoseSound();
                    break;
                case 'push':
                    balance += blackjackBet;
                    resultElement.textContent = 'Ничья! Ставка возвращена.';
                    break;
            }
            
            updateBalance();
            
            document.getElementById('blackjack-buttons').innerHTML = `
                <button class="play-btn" onclick="playButtonSound(); startBlackjack()">Играть снова</button>
            `;
        }
        
        // ========== СЛОТЫ ==========
        function initSlots() {
            const symbols = ['😂', '🤡', '💩', '👑', '🍆', '🍕'];
            
            for (let i = 1; i <= 3; i++) {
                const reel = document.getElementById('reel' + i);
                reel.innerHTML = '';
                
                // Добавляем 6 символов в каждый барабан (для эффекта прокрутки)
                for (let j = 0; j < 6; j++) {
                    const symbol = document.createElement('div');
                    symbol.className = 'slot-item';
                    symbol.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                    reel.appendChild(symbol);
                }
            }
        }
        
        function spinSlots() {
            if (isSpinning || balance < slotBet) return;
            
            isSpinning = true;
            toggleBetButtons(true);
            balance -= slotBet;
            updateBalance();
            
            const spinButton = document.getElementById('spin-button');
            spinButton.disabled = true;
            
            const resultElement = document.getElementById('slotsResult');
            resultElement.textContent = '';
            
            // Анимация прокрутки
            const reels = [
                document.getElementById('reel1'),
                document.getElementById('reel2'),
                document.getElementById('reel3')
            ];
            
            const spinTimes = [10, 15, 20]; // Количество шагов для каждого барабана
            const results = [];
            let reelsStopped = 0;
            
            reels.forEach((reel, index) => {
                let spins = 0;
                const spinInterval = setInterval(() => {
                    spins++;
                    
                    // Прокрутка
                    const firstChild = reel.firstElementChild;
                    reel.removeChild(firstChild);
                    reel.appendChild(firstChild.cloneNode(true));
                    
                    if (spins >= spinTimes[index]) {
                        clearInterval(spinInterval);
                        
                        // Фиксируем результат (средний символ)
                        const symbols = reel.querySelectorAll('.slot-item');
                        results.push(symbols[1].textContent);
                        reelsStopped++;
                        
                        // Если все барабаны остановились
                        if (reelsStopped === 3) {
                            showSlotsResult(results);
                            isSpinning = false;
                            spinButton.disabled = false;
                            toggleBetButtons(false);
                        }
                    }
                }, 100);
            });
        }
        
        function showSlotsResult(results) {
            const resultElement = document.getElementById('slotsResult');
            
            // Проверка на выигрышные комбинации
            if (results[0] === results[1] && results[1] === results[2]) {
                let multiplier = 0;
                
                switch (results[0]) {
                    case '👑': multiplier = 10; break;
                    case '🍆': multiplier = 5; break;
                    case '😂': multiplier = 3; break;
                    default: multiplier = 2;
                }
                
                const winAmount = slotBet * multiplier;
                balance += winAmount;
                resultElement.textContent = `ДЖЕКПОТ! ${results[0]} ${results[1]} ${results[2]} - Выигрыш ${winAmount} ₣!`;
                playWinSound();
            } else if (results[0] === results[1] || results[1] === results[2] || results[0] === results[2]) {
                balance += slotBet;
                resultElement.textContent = `Удача! Маленький выигрыш ${slotBet} ₣!`;
                playWinSound();
            } else {
                resultElement.textContent = `Повезёт в следующий раз! ${results[0]} ${results[1]} ${results[2]}`;
                playLoseSound();
            }
            
            updateBalance();
        }
        
        // ========== КОСТИ ==========
        function initDice() {
            createDiceFaces();
        }
        
        function createDiceFaces() {
            const diceElements = [
                document.getElementById('playerDice1'),
                document.getElementById('playerDice2'),
                document.getElementById('dealerDice1'),
                document.getElementById('dealerDice2')
            ];
            
            diceElements.forEach(dice => {
                dice.innerHTML = '';
                
                // Создаем 9 возможных позиций для точек
                for (let i = 1; i <= 9; i++) {
                    const dot = document.createElement('div');
                    dot.className = 'dot hidden';
                    dot.id = `${dice.id}-dot${i}`;
                    dice.appendChild(dot);
                }
            });
        }
        
        function showDiceFace(diceElement, value) {
            // Скрываем все точки
            for (let i = 1; i <= 9; i++) {
                document.getElementById(`${diceElement.id}-dot${i}`).classList.add('hidden');
            }
            
            // Показываем нужные точки в зависимости от значения
            switch (value) {
                case 1:
                    showDots(diceElement, [5]);
                    break;
                case 2:
                    showDots(diceElement, [1, 9]);
                    break;
                case 3:
                    showDots(diceElement, [1, 5, 9]);
                    break;
                case 4:
                    showDots(diceElement, [1, 3, 7, 9]);
                    break;
                case 5:
                    showDots(diceElement, [1, 3, 5, 7, 9]);
                    break;
                case 6:
                    showDots(diceElement, [1, 3, 4, 6, 7, 9]);
                    break;
            }
        }
        
        function showDots(diceElement, dots) {
            dots.forEach(dotPos => {
                document.getElementById(`${diceElement.id}-dot${dotPos}`).classList.remove('hidden');
            });
        }
        
        function rollDice() {
            if (isSpinning || balance < diceBet) return;
            
            isSpinning = true;
            toggleBetButtons(true);
            balance -= diceBet;
            updateBalance();
            
            const resultElement = document.getElementById('diceResult');
            resultElement.textContent = '';
            
            // Анимация броска
            let rolls = 0;
            const maxRolls = 10;
            const rollInterval = setInterval(() => {
                rolls++;
                
                // Показываем случайные значения
                const random1 = Math.floor(Math.random() * 6) + 1;
                const random2 = Math.floor(Math.random() * 6) + 1;
                const random3 = Math.floor(Math.random() * 6) + 1;
                const random4 = Math.floor(Math.random() * 6) + 1;
                
                showDiceFace(document.getElementById('playerDice1'), random1);
                showDiceFace(document.getElementById('playerDice2'), random2);
                showDiceFace(document.getElementById('dealerDice1'), random3);
                showDiceFace(document.getElementById('dealerDice2'), random4);
                
                if (rolls >= maxRolls) {
                    clearInterval(rollInterval);
                    setTimeout(() => {
                        showDiceResult();
                        isSpinning = false;
                        toggleBetButtons(false);
                    }, 300);
                }
            }, 100);
        }
        
        function showDiceResult() {
            const resultElement = document.getElementById('diceResult');
            
            // Генерируем финальные значения
            const playerDice1 = Math.floor(Math.random() * 6) + 1;
            const playerDice2 = Math.floor(Math.random() * 6) + 1;
            const dealerDice1 = Math.floor(Math.random() * 6) + 1;
            const dealerDice2 = Math.floor(Math.random() * 6) + 1;
            
            showDiceFace(document.getElementById('playerDice1'), playerDice1);
            showDiceFace(document.getElementById('playerDice2'), playerDice2);
            showDiceFace(document.getElementById('dealerDice1'), dealerDice1);
            showDiceFace(document.getElementById('dealerDice2'), dealerDice2);
            
            const playerSum = playerDice1 + playerDice2;
            const dealerSum = dealerDice1 + dealerDice2;
            
            if (playerSum > dealerSum) {
                const winAmount = diceBet * 2;
                balance += winAmount;
                resultElement.textContent = `Победа! ${playerSum} vs ${dealerSum}. Выигрыш ${winAmount} ₣!`;
                playWinSound();
            } else if (playerSum === dealerSum) {
                balance += diceBet;
                resultElement.textContent = `Ничья! ${playerSum} vs ${dealerSum}. Возврат ставки.`;
            } else {
                resultElement.textContent = `Проигрыш! ${playerSum} vs ${dealerSum}. Удача в следующий раз!`;
                playLoseSound();
            }
            
            updateBalance();
        }
    </script>
</body>
</html>
